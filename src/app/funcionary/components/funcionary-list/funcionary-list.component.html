<div class="cabecera">
  <h1 class="titulo">ENTIDADES COOPERANTES</h1>
</div>

<button (click)="openDialog()" mat-raised-button color="primary">
  <mat-icon aria-hidden="false" aria-label="add_circle_outline" fontIcon="add_circle_outline"></mat-icon>
  Nueva Entidad
</button>
<br>
<br>
<div id="filtroEstadoContainer">
  <label for="filtroEstado">Filtrar por estado:</label>
  <select id="filtroEstado" [(ngModel)]="estadoFiltrado" (change)="listar()">
    <option value="Todos">Todos</option>
    <option value="A">Activo</option>
    <option value="I">Inactivo</option>
  </select>
</div>

<br><br>
<table class="table">
  <thead>
  <tr>
    <th scope="col">NOMBRE</th>
    <th scope="col">RUC</th>
    <th scope="col">DIRECCIÓN</th>
    <th scope="col">CONTACTO</th>
    <th scope="col">ACCIÓN</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let entidad of dataSource">
    <td>{{entidad.nombre}}</td>
    <td>{{entidad.ruc}}</td>
    <td>{{entidad.direccion}}</td>
    <td>{{entidad.contacto}}</td>
    <td>
      <div class="button-container">
        <ng-container *ngIf="entidad.estado === 'I'">
          <button class="button" mat-fab color="primary" aria-label="Activar" (click)="activarEntidad(entidad.id)">
            <mat-icon>check</mat-icon>
          </button>
        </ng-container>
        <ng-container *ngIf="entidad.estado !== 'I'">
          <button class="button" mat-fab color="primary" aria-label="Editar" (click)="editarEntidad(entidad)">
            <mat-icon>mode_edit</mat-icon>
          </button>
          <button class="button" mat-fab color="warn" aria-label="Eliminar" (click)="deleteEntidad(entidad.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </ng-container>
      </div>
    </td>
  </tr>
  </tbody>
</table>



